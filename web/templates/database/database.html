{% extends "base/base.html" %}

{% block title %}Database - LotRO Forge{% endblock %}

{% block content %}
<!-- Database Component with Panel Manager Context -->
<div id="database-component" 
     x-data="panelManager({ defaultPanel: 'equipment' })"
     class="bg-lotro-darker h-full">

    <!-- Main content area with Database Controller Context -->
    <div class="w-full max-w-7xl mx-auto px-4 pb-4" x-data="databaseController()">
        <!-- Database Tab Navigation -->
        <div class="flex justify-center space-x-4 pb-4 mb-6 border-b border-lotro-border">
            <button @click="openPanel('equipment')" 
                    class="text-lotro-primary hover:text-lotro-gold px-4 py-2 rounded transition-colors duration-200"
                    :class="{'text-lotro-gold border-b-2 border-lotro-gold': isPanelActive('equipment')}">
                Equipment
            </button>
            <button @click="openPanel('traceries')"
                    class="text-lotro-primary hover:text-lotro-gold px-4 py-2 rounded transition-colors duration-200"
                    :class="{'text-lotro-gold border-b-2 border-lotro-gold': isPanelActive('traceries')}">
                Traceries
            </button>
            <button @click="openPanel('sets')"
                    class="text-lotro-primary hover:text-lotro-gold px-4 py-2 rounded transition-colors duration-200"
                    :class="{'text-lotro-gold border-b-2 border-lotro-gold': isPanelActive('sets')}">
                Sets
            </button>
            <button @click="openPanel('essences')"
                    class="text-lotro-primary hover:text-lotro-gold px-4 py-2 rounded transition-colors duration-200"
                    :class="{'text-lotro-gold border-b-2 border-lotro-gold': isPanelActive('essences')}">
                Essences
            </button>
            <button @click="openPanel('traits')"
                    class="text-lotro-primary hover:text-lotro-gold px-4 py-2 rounded transition-colors duration-200"
                    :class="{'text-lotro-gold border-b-2 border-lotro-gold': isPanelActive('traits')}">
                Traits
            </button>
            <button @click="openPanel('buffs')"
                    class="text-lotro-primary hover:text-lotro-gold px-4 py-2 rounded transition-colors duration-200"
                    :class="{'text-lotro-gold border-b-2 border-lotro-gold': isPanelActive('buffs')}">
                Buffs
            </button>
            <button @click="openPanel('misc')"
                    class="text-lotro-primary hover:text-lotro-gold px-4 py-2 rounded transition-colors duration-200"
                    :class="{'text-lotro-gold border-b-2 border-lotro-gold': isPanelActive('misc')}">
                Misc
            </button>
            <button @click="openPanel('sources')"
                    class="text-lotro-primary hover:text-lotro-gold px-4 py-2 rounded transition-colors duration-200"
                    :class="{'text-lotro-gold border-b-2 border-lotro-gold': isPanelActive('sources')}">
                Sources
            </button>

        </div>
        
        <!-- Panel Content -->
        <div class="w-full">
            <!-- All Database Panels - Using template inheritance approach -->
            {% include "database/panels/equipment_panel.html" %}
            {% include "database/panels/traceries_panel.html" %}
            {% include "database/panels/sets_panel.html" %}
            {% include "database/panels/essences_panel.html" %}
            {% include "database/panels/traits_panel.html" %}
            {% include "database/panels/buffs_panel.html" %}
            {% include "database/panels/misc_panel.html" %}
            {% include "database/panels/sources_panel.html" %}
        </div>
    </div>
</div>



{% endblock %}

{% block extra_scripts %}
<!-- Panel Manager JavaScript -->
<script src="{{ url_for('static', path='js/components/panel-manager.js') }}"></script>
<!-- Database Controller JavaScript -->
<script src="{{ url_for('static', path='js/database/database-controller.js') }}"></script>
{% endblock %}