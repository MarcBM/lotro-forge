<!-- Right Column: Stats -->
<div class="w-full bg-lotro-darker p-4 h-full overflow-y-auto border-8 border-lotro-border shadow-lg justify-self-start flex flex-col" x-data="statsEngine">
    <!-- Header Section -->
    <div class="grid grid-cols-[120px_1fr_1fr] gap-2 mb-2 pb-2 border-b border-lotro-border">
        <!-- Left: Empty space where Stats title was -->
        <div></div>
        
        <!-- Middle: Build Score -->
        <div class="text-center">
            <h3 class="text-lotro-gold font-bold text-sm mb-0.5">Build Score</h3>
            <div class="text-4xl font-bold text-white">0</div>
        </div>
        
        <!-- Right: Goal Score -->
        <div class="text-center">
            <h3 class="text-lotro-gold font-bold text-sm mb-0.5">Goal Score</h3>
            <div class="text-4xl font-bold text-blue-400">50,000</div>
        </div>
    </div>

    <!-- Stat Row Macro -->
    {% macro stat_row(stat_name, display_name) %}
    <div class="grid grid-cols-[120px_1fr_1fr] gap-2 items-center">
        <div class="text-gray-300 text-sm text-right">{{ display_name }}</div>
        <div class="text-left text-white font-medium text-sm" data-stat="{{ stat_name.lower() }}">
            <div class="flex justify-between items-center">
                <span x-text="stats['{{ stat_name }}'] ? stats['{{ stat_name }}'].final_value.toLocaleString() : '0'"></span>
                <span class="text-xs text-gray-400" x-text="stats['{{ stat_name }}'] ? '(' + (stats['{{ stat_name }}'].final_value / 1000).toFixed(1) + '%)' : '(0.0%)'"></span>
            </div>
        </div>
        <div class="text-left text-blue-400 text-sm">
            <div class="flex justify-between items-center">
                <span x-text="stats['{{ stat_name }}'] ? stats['{{ stat_name }}'].goal.toLocaleString() : '0'"></span>
                <span class="text-xs text-gray-400" x-text="stats['{{ stat_name }}'] ? '(' + (stats['{{ stat_name }}'].goal / 1000).toFixed(1) + '%)' : '(0.0%)'"></span>
            </div>
        </div>
    </div>
    {% endmacro %}

    <!-- Stats Sections -->
    <div class="space-y-2 flex-1">
        <!-- Section 1: Core Stats -->
        <div class="space-y-1">
            {{ stat_row('MORALE', 'Morale') }}
            {{ stat_row('POWER', 'Power') }}
            {{ stat_row('ARMOUR', 'Armour') }}
        </div>

        <!-- Section 2: Primary Attributes -->
        <div class="space-y-1 pt-1 border-t border-gray-600">
            {{ stat_row('MIGHT', 'Might') }}
            {{ stat_row('AGILITY', 'Agility') }}
            {{ stat_row('VITALITY', 'Vitality') }}
            {{ stat_row('WILL', 'Will') }}
            {{ stat_row('FATE', 'Fate') }}
        </div>

        <!-- Section 3: Offensive Stats -->
        <div class="space-y-1 pt-1 border-t border-gray-600">
            {{ stat_row('CRITICAL_RATING', 'Critical Rating') }}
            {{ stat_row('FINESSE', 'Finesse') }}
            {{ stat_row('PHYSICAL_MASTERY', 'Physical Mastery') }}
            {{ stat_row('TACTICAL_MASTERY', 'Tactical Mastery') }}
            {{ stat_row('OUTGOING_HEALING', 'Outgoing Healing') }}
        </div>

        <!-- Section 4: Defensive Stats -->
        <div class="space-y-1 pt-1 border-t border-gray-600">
            {{ stat_row('RESISTANCE', 'Resistance') }}
            {{ stat_row('CRITICAL_DEFENCE', 'Critical Defence') }}
            {{ stat_row('INCOMING_HEALING', 'Incoming Healing') }}
            {{ stat_row('BLOCK', 'Block') }}
            {{ stat_row('PARRY', 'Parry') }}
            {{ stat_row('EVADE', 'Evade') }}
        </div>

        <!-- Section 5: Mitigation -->
        <div class="space-y-1 pt-1 border-t border-gray-600">
            {{ stat_row('PHYSICAL_MITIGATION', 'Physical Mitigation') }}
            {{ stat_row('TACTICAL_MITIGATION', 'Tactical Mitigation') }}
        </div>
    </div>
</div> 